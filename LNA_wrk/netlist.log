; Top Design: "BFP840FESD_Test:DC_and_SPARAMS BFP840FESD:schematic"
; Netlisted using Hierarchy Policy: "Standard"

Options ResourceUsage=yes UseNutmegFormat=no EnableOptim=no TopDesignName="BFP840FESD_Test:DC_and_SPARAMS BFP840FESD:schematic" DcopOutputNodeVoltages=yes DcopOutputPinCurrents=yes DcopOutputAllSweepPoints=no DcopOutputDcopType=0
; Library Name: BFP840FESD_Test
; Cell Name: DC_Bias
; View Name: schematic
define DC_Bias ( Output  DC_Feed ) 
;parameters 
MLIN2:TL2  DC_Feed N__3 Subst="MSub1" W=width_pad_mm mm L=1.3 mm Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MLIN2:TL1  Output N__2 Subst="MSub1" W=800 um L=8.4 mm Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
model MSub1 MSUB H=1.5 mm Er=4.6  Mur=1.0  Cond=5.4e7  Hu=3.9e+34 mil T=0.035 mm TanD=1.000e-3  Rough=0 cm DielectricLossModel=1 FreqForEpsrTanD=1.0e9  LowFreqForTanD=1.0e3  HighFreqForTanD=1.0e12  RoughnessModel=2 
MLIN2:TL3  N__4 0 Subst="MSub1" W=width_pad_mm mm L=1.3 mm Wall1=1.0E+30 um Wall2=1.0E+30 um Mod=1 
MGAP:Gap1  N__3 N__4 Subst="MSub1" W=width_pad_mm mm S=0.6 mm 

width_pad_mm=2
MSTEP:Step1  DC_Feed N__2 Subst="MSub1" W1=width_pad_mm mm W2=0.800 mm 

w50=2.8
C:C1  DC_Feed 0 C=470 pF 
end DC_Bias

; Library Name: BFP840FESD_Test
; Cell Name: bfp840fesd
; View Name: schematic
define bfp840fesd ( _node1  _node2  _node3  _node4 ) 
parameters 
R:re1  _node35 _node3 R=1e-03 Noise=yes 
R:re2  _node35 _node4 R=1e-03 Noise=yes 
C:cbepar  _node22 _node33 C=1.5e-013 
C:cbcpar  _node22 _node11 C=3e-014 
C:ccepar  _node11 _node33 C=1.5e-013 
L:lb  _node222 _node20 L=4.3e-010 Noise=yes  
L:le  _node333 _node30 L=1.5e-010 Noise=yes  
L:lc  _node111 _node10 L=4.3e-010 Noise=yes  
R:rbs  _node222 _node22 R=1.728 Noise=yes 
R:res  _node333 _node33 R=2.5 Noise=yes 
R:rcs  _node111 _node11 R=5 Noise=yes 
Mutual:k_bc  K=0.001 Inductor1="lb" Inductor2="lc" 
Mutual:k_eb  K=0.1 Inductor1="le" Inductor2="lb" 
Mutual:k_ec  K=0.2 Inductor1="le" Inductor2="lc" 
C:cbepck  _node20 _node30 C=1.2e-014 
C:cbcpck  _node20 _node10 C=1.134e-014 
C:ccepck  _node10 _node30 C=1.2e-014 
L:lbx  _node20 _node2 L=5e-011 Noise=yes  
L:lex  _node30 _node35 L=4.851e-011 Noise=yes  
L:lcx  _node10 _node1 L=2.329e-010 Noise=yes  
R:r_cs_npn  _node44 _node5 R=0.1 Noise=yes 
"m_d1":d1  _node33 _node25 Mode=1 Noise=yes 
"m_d2":d2  _node5 _node25 Mode=1 Noise=yes 
R:r_nbl_fbd  _node22 _node25 R=1 Noise=yes 
R:rps  _node33 _node5 R=0.09 Noise=yes 
R:rsub  _node30 _node5 R=0.001 Noise=yes 
"m_d3":d3  _node5 _node15 Mode=1 Noise=yes 
"m_d4":d4  _node23 _node33 Mode=1 Noise=yes 
"m_d5":d5  _node23 _node15 Mode=1 Noise=yes 
R:r_nbl_e11g  _node15 _node11 R=1 Noise=yes 
model m_d1 Diode Is=3e-015 Rs=2.846 N=0.9999 Cjo=1e-014 Vj=0.7 M=0.5499 AllowScaling=0 Tnom=25 
model m_d2 Diode Is=3e-015 Rs=1208 N=0.9999 Cjo=5e-015 Vj=0.7 M=0.5499 AllowScaling=0 Tnom=25 
model m_d3 Diode Is=1e-015 Rs=4969 N=1.1 Cjo=1e-014 Vj=0.7001 M=0.4997 AllowScaling=0 Tnom=25 
model m_d4 Diode Is=3.5e-015 Rs=0.2 N=0.9999 Cjo=1e-014 Vj=0.7 M=0.4999 AllowScaling=0 Tnom=25 
model m_d5 Diode Is=3.5e-015 Rs=4.7 N=1.02 Cjo=1.2e-014 Vj=0.7 M=0.4999 AllowScaling=0 Tnom=25 
"m_bfp840fesd":q1  _node11 _node22 _node33 _node44 Mode=1 Noise=yes 
model m_bfp840fesd BJT NPN=1 PNP=0 Is=2.009e-016 Bf=946.1 Nf=1 Vaf=300 Ikf=0.1993 Ise=6.26e-015 Ne=2 Br=108 Nr=1 Var=1.288 Ikr=0.0007328 Isc=8.126e-016 Nc=2 Rb=17 Irb=0 Rbm=1 Re=0.05 Rc=4.145 Cje=1.3e-013 Vje=0.6 Mje=0.5 Cjc=1.1e-014 Vjc=0.67 Mjc=0.88 Xcjc=0.4894 Cjs=3e-013 Vjs=0.7 Mjs=0.5 Fc=0.352 Xtf=17.49 Tf=7.494e-013 Vtf=0.5295 Itf=1.025 Ptf=4.667 Tr=1.793e-009 Kf=6.4e-012 Af=1.44 Lateral=0 RbModel=1 Approxqb=1 Tnom=25 Tlev=0 Tlevc=0 Eg=1.11 Xtb=-2.276 Xti=0 
end bfp840fesd

V_Source:SRC1  N__3 0 Type="V_DC" Vdc=3.0 V SaveCurrent=0 
bfp840fesd:X1  N__2 N__6 Ve Ve _M=1 
R:R6  N__10 N__9 R=15 Ohm Temp=16.85 
aele MuPrime1=mu_prime(S);
S_Param:SP1 CalcS=yes CalcY=no CalcZ=no GroupDelayAperture=1e-4 FreqConversion=no FreqConversionPort=1 StatusLevel=2 CalcNoise=yes SortNoise=0 BandwidthForNoise=1.0 GHz DevOpPtLevel=0 \
SweepVar="freq" SweepPlan="SP1_stim" OutputPlan="SP1_Output" 

SweepPlan: SP1_stim Start=1 GHz Stop=10 GHz Step=1 MHz 

OutputPlan:SP1_Output \
      Type="Output" \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2

#load "python","LinearCollapse"
Component Module="LinearCollapse" Type="ModelExtractor" NetworkRepresentation=2
R:R5  Ve 0 R=65 Ohm Noise=yes 
R:R4  N__7 N__0 R=49.3 kOhm Noise=yes 
R:R1  N__11 N__7 R=133 Ohm Noise=yes 
aele Mu1=mu(S);
C:C4  N__8 0 C=1.5 pF 
C:C3  N__2 N__10 C=220 pF 
Short:IC  N__7 N__2 Mode=0 SaveCurrent=yes 
C:C1  0 Ve C=220 pF 

Cemit=22 pF
Port:Term1  N__15 0 Num=1 Z=50 Ohm Noise=yes 
Port:Term2  N__9 0 Num=2 Z=50 Ohm Noise=yes 

Options:Options1 Temp=16.85 Tnom=25 TopologyCheck=yes ForceS_Params=yes GiveAllWarnings=yes  \
MaxWarnings=10 ForceM_Params=yes InitialGuessAnnotation=0 TopologyCheckMessages=no doDeltaAC=no  \
ReduceSPortRatio=0.5 WarnSOA=yes MaxWarnSOA=5 Census=no MinNodalR=1e-2 Ohm  \
LargeCapThreshold=1e-3 F EnableAssertChecks=no EnableSpareRemoval=yes 

DC:DC1 StatusLevel=2 DevOpPtLevel=0 UseFiniteDiff=no PrintOpPoint=no Restart=1 \
OutputPlan="DC1_Output" 

OutputPlan:DC1_Output \
      Type="Output" \
      UseNodeNestLevel=yes \
      NodeNestLevel=2 \
      UseEquationNestLevel=yes \
      EquationNestLevel=2 \
      UseSavedEquationNestLevel=yes \
      SavedEquationNestLevel=2 \
      UseDeviceCurrentNestLevel=no \
      DeviceCurrentNestLevel=0 \
      DeviceCurrentDeviceType="All" \
      DeviceCurrentSymSyntax=yes \
      UseCurrentNestLevel=yes \
      CurrentNestLevel=999 \
      UseDeviceVoltageNestLevel=no \
      DeviceVoltageNestLevel=0 \
      DeviceVoltageDeviceType="All"

Short:IB1  N__0 N__6 Mode=0 SaveCurrent=yes 
C:C2  N__15 N__0 C=220 pF 
L:L2  N__15 N__8 L=2.7 nH Noise=yes  
DC_Bias:X3  N__11 N__3 
